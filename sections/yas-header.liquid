<style>
  {% if settings.enable_sticky_header %}
    #shopify-section-{{section.id}}{
      position: sticky;
      top: 0;
      z-index: 9999;
    }
  {% endif %}
  .header_w{
    width: 100%;
    height: 60px;
    display: flex;
    padding: 21px 20px;
    display: flex;
    justify-content: space-between;
    background: #fff;
  }
  .header_wrap_navigate{
    display: flex;
    gap: 10px;
  }
  .cart{
    justify-content: flex-end;
  }
  .sub_header{
    background: #EDEDED;
    position: fixed;
    height: 100%;
    width: 100%;
    z-index: 9999;
    top: 60px;
    bottom: 0;
    left: 0;
    overflow: auto;
    display: flex;
    flex-direction: column;
    gap: 28px;
    transition: 0.3s linear;
    padding: 24px 0;
    max-width: 390px;
  }
  .menu-overlay {
    position: fixed;
    top: 60px;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.4);
    z-index: 9998;
    display: none;
  }
  
  .menu-overlay.active {
    display: block;
  }
  .sub_header.sub_header-close{
    left: -100%;
  }
  .menu_burger {
    display: flex;
    flex-direction: column;
    gap: 4px;
    justify-content: center;
    background: transparent;
    outline: none;
    padding: 0;
    margin: 0;
    border: none;
  }
  .menu_burger span{
    width: 18px;
    height: 1.5px;
    border-radius: 50px;
    background: #000;
  }
  .btn_collection-toogle{
    align-self: flex-start;
    font-family: Montserrat;
    font-weight: 700;
    font-size: 16px;
    line-height: 150%;
    letter-spacing: 0;
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
  }
  .sub_header-slider img{
    width: 140px;
    margin-bottom: 16px;
    aspect-ratio: 1 / 1;
  }
  .sub_header .collection-list{
    gap: 24px;
    display: flex;
    flex-direction: column;
  }
  .sub_header .collection-item a{
    display: inline-flex;
    gap: 24px;
    align-items: center;
    text-decoration: none;
    color: #000;
    border-bottom: 1px solid #D9D9D9;
    max-width: 320px;
    width: 100%;
  }
  .sub_header .collection-item a h3{
    font-family: Montserrat;
    font-weight: 700;
    font-size: 14px;
    line-height: 100%;
    letter-spacing: 0;
    text-transform: uppercase;
    position: relative;
    padding-right: 25px;
  }
  .sub_header .sub_header-collection.collection-toogle h3,
  .sub_header .sub_header-collection.collection-toogle p{
    margin: 0;
  }
  .sub_header .sub_header-collection.collection-toogle .collection-info{
    flex: 1;
  }
  .sub_header .sub_header-collection.collection-toogle .collection-item a{
    padding-bottom: 25px;
  }
  .sub_header .sub_header-collection.collection-toogle h3{
    margin-bottom: 5px;
  }
  .sub_header .sub_header-collection.collection-toogle p{
    max-width: 190px;
    font-size: 12px;
    line-height: 18px;
    letter-spacing: 0;
  }
  .sub_header .collection-item img{
    width: 44px;
    height: 44px;
    aspect-ratio: 1 / 1;
  }
  .sub_header > div:not(.sub_header-slider){
    padding: 0 20px;
  }
  
  .sub_header .sub_header-menu ul{
    list-style: none;
    padding: 0;
    margin: 0;
  }
  .sub_header .sub_header-menu ul li:first-child{
    border-top: 1px solid #D9D9D9;
  }
  .sub_header .sub_header-menu ul li{
    border-bottom: 1px solid #D9D9D9;
  }
  .sub_header .sub_header-menu a{
    font-family: Montserrat;
    font-weight: 700;
    font-size: 14px;
    line-height: 37px;
    letter-spacing: 0;
    text-transform: uppercase;
    color: #000000;
    text-decoration: none;
  }
  .sub_header-slider{
    padding-left: 20px;
  }
  .sub_header-slider .swiper-slide{
    width: auto;
    max-width: 140px;
  }
  .sub_header-slider .title-slider{
    color: #000;
    font-family: Montserrat;
    font-weight: 700;
    font-size: 16px;
    line-height: 37px;
    letter-spacing: 0;
    text-transform: uppercase;
  }
  .sub_header-slider .product-reviews svg{
    width: 10px;
  }
  .sub_header-slider .product-reviews{
    color: #000;
    font-family: Montserrat;
    font-weight: 500;
    font-size: 10px;
    letter-spacing: 0;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .sub_header-slider a{
    text-decoration: none;
    color: #000;
  }
  .sub_header-slider h3{
    font-family: Montserrat;
    font-weight: 700;
    font-size: 14px;
    line-height: 100%;
    letter-spacing: 0;
    text-transform: uppercase;
    margin: 12px 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    
  }
  .sub_header-slider span.price{
    font-family: Montserrat;
    font-weight: 700;
    font-size: 14px;
    leading-trim: Cap height;
    line-height: 140%;
    letter-spacing: 0;
    text-align: center;
  }
  .sub_header .sub_header-collection.collection-toogle .collection-item[data-open="true"] > a{
    border: none;
    padding-bottom: 0;
  }

  .collection-item[data-open="false"] .collection-item_listprod{
    display: none;
  }
  .collection-item[data-open="true"] .collection-item_listprod{
    display: block;
  }
  .collection-item_product{
    display: flex;
    gap: 10px;
    align-items: center;
    padding: 25px 0;
    border-bottom: 1px solid #D9D9D9;
  }
  .collection-item_product svg{
    min-width: 12px;
    width: 12px;
  }
  .collection-item_product h5{
    margin: 0;
    font-weight: 600;
    font-size: 14px;
    line-height: 18px;
    letter-spacing: 0;
    text-transform: uppercase;
  }
</style>
<div class="header_w">
  <div class="header_left">
  <button class="menu_burger" id="menu_burger" aria-label="Toggle menu">
    <span></span>
    <span></span>
    <span></span>
  </button>
  <a href=""></a>
  </div>
  <div class="logo">
    LOGO
  </div>

  <div class="header_wrap_navigate">
    {% if section.settings.enable_search != blank %}
        <div class="header__action-search" id="js-search-box">
          <button type="button" class="form-icon" id="js-search-toggle">
            <span class="material-icons">search</span>
          </button>  
        </div>
    {% endif %}
    <div class="cart"  onclick="document.getElementById('side-cart').toggleCart()">
    <svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M6.75 15.6875C6.75 15.91 6.68402 16.1275 6.5604 16.3125C6.43679 16.4975 6.26109 16.6417 6.05552 16.7269C5.84995 16.812 5.62375 16.8343 5.40552 16.7909C5.18729 16.7475 4.98684 16.6403 4.8295 16.483C4.67217 16.3257 4.56502 16.1252 4.52162 15.907C4.47821 15.6887 4.50049 15.4625 4.58564 15.257C4.67078 15.0514 4.81498 14.8757 4.99998 14.7521C5.18499 14.6285 5.4025 14.5625 5.625 14.5625C5.92337 14.5625 6.20952 14.681 6.4205 14.892C6.63147 15.103 6.75 15.3891 6.75 15.6875ZM12.9375 14.5625C12.715 14.5625 12.4975 14.6285 12.3125 14.7521C12.1275 14.8757 11.9833 15.0514 11.8981 15.257C11.813 15.4625 11.7907 15.6887 11.8341 15.907C11.8775 16.1252 11.9847 16.3257 12.142 16.483C12.2993 16.6403 12.4998 16.7475 12.718 16.7909C12.9363 16.8343 13.1625 16.812 13.368 16.7269C13.5736 16.6417 13.7493 16.4975 13.8729 16.3125C13.9965 16.1275 14.0625 15.91 14.0625 15.6875C14.0625 15.3891 13.944 15.103 13.733 14.892C13.522 14.681 13.2359 14.5625 12.9375 14.5625ZM16.1297 5.71719L14.2734 12.2141C14.1715 12.5663 13.9581 12.8759 13.6652 13.0965C13.3724 13.3171 13.0159 13.4367 12.6492 13.4375H5.91328C5.54663 13.4367 5.19013 13.3171 4.89727 13.0965C4.6044 12.8759 4.39099 12.5663 4.28906 12.2141L2.43281 5.72422V5.71016L1.74375 3.3125H0.5625C0.413316 3.3125 0.270242 3.25324 0.164752 3.14775C0.0592632 3.04226 0 2.89918 0 2.75C0 2.60082 0.0592632 2.45774 0.164752 2.35225C0.270242 2.24676 0.413316 2.1875 0.5625 2.1875H1.74375C1.98809 2.18839 2.22558 2.2683 2.42074 2.41531C2.61591 2.56232 2.75827 2.76853 2.82656 3.00312L3.39609 5H15.5883C15.6754 4.99991 15.7614 5.02006 15.8394 5.05886C15.9174 5.09766 15.9853 5.15405 16.0378 5.22359C16.0903 5.29313 16.1259 5.37391 16.1419 5.45957C16.1578 5.54523 16.1536 5.63342 16.1297 5.71719ZM14.843 6.125H3.71953L5.37188 11.9047C5.40551 12.0223 5.47656 12.1257 5.57425 12.1993C5.67195 12.2729 5.79097 12.3126 5.91328 12.3125H12.6492C12.7715 12.3126 12.8905 12.2729 12.9882 12.1993C13.0859 12.1257 13.157 12.0223 13.1906 11.9047L14.843 6.125Z" fill="#121212"/>
    </svg>
    </div>
  </div>
</div>
<div class="sub_header sub_header-close" id="sub_header">
  {% for block in section.blocks %}
      {% case block.type %}
        {% when 'slider' %}
        <div class="sub_header-slider">
          <div class="title-slider">Best Sellers</div>
          {% if block.settings.product_list != blank %}
            <div class="product-list">
              <div class="swiper swiper_menu">
                <div class="swiper-wrapper">
                {% for product in block.settings.product_list %}
                  {% if product != blank %}
                    <div class="swiper-slide">
                      <div class="product-item-s">
                        
                        <a href="{{ product.url }}">
                          {% if product.featured_image %}
                            <img 
                              src="{{ product.featured_image | image_url: width: 600 }}" 
                              alt="{{ product.title }}"
                            >
                          {% endif %}
                          {% if block.settings.show_reviews %}
                          <div class="product-reviews">
                            <span>{% for i in (1..block.settings.star_count) -%}{% render 'review-stars' %}{%- endfor -%}</span> {{ block.settings.review_text }}
                          </div>
                          {% endif %}
                          <h3>{{ product.title }}</h3>
                          <span class="price">{{ product.price | money }}</span>
                        </a>
                      </div>
                    </div>  
                  {% endif %}
                {% endfor %}
                </div>
              </div>
            </div>
          {% endif %}
        </div>
   
        {% when 'collection' %}
        {% if block.settings.collection_list != blank %}
          {% if block.settings.collection_styling == "noporuduct" %}
          <div class="sub_header-collection">
              <div class="collection-list">
                {% for collection in block.settings.collection_list limit: block.settings.limit %}
                  {% if collection != blank %}
                    <div class="collection-item">
                      <a href="{{ collection.url }}">
                        {% if collection.image %}
                          <img src="{{ collection.image | image_url: width: 600 }}" alt="{{ collection.title }}">
                        {% else %}
                         <svg width="44" height="44" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg">
                          <rect width="44" height="44" rx="6" fill="#E0E0E0"/>
                         </svg>
                        {% endif %}
                        <h3>{{ collection.title }}</h3>
                      </a>
                    </div>
                  {% endif %}
                {% endfor %}
              </div>
          </div>
          {% else %}
            <div class="sub_header-collection collection-toogle">
              <div class="collection-list">
                {% for collection in block.settings.collection_list limit: block.settings.limit %}
                  {% if collection != blank %}
                    <div class="collection-item" data-open="false">
                    <a href="#"
                       onclick="event.preventDefault(); const p=this.closest('.collection-item'); const o=p.dataset.open==='true'; p.dataset.open=!o; this.setAttribute('aria-expanded',!o);"
                       role="button"
                       aria-expanded="false">
                        {% if collection.image %}
                          <img src="{{ collection.image | image_url: width: 600 }}" alt="{{ collection.title }}">
                        {% else %}
                         <svg width="44" height="44" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg">
                          <rect width="44" height="44" rx="6" fill="#E0E0E0"/>
                         </svg>
                        {% endif %}
                        <div class="collection-info">
                          <h3>{{ collection.title }} <div class="btn_collection-toogle">+</div></h3>
                          <p>{{ collection.description | strip_html | truncate: 65 }}</p>
                        </div>
                        
                      </a>
                      <div class="collection-item_listprod">
                          {% for product in collection.products limit: 3 %}
                            <a href="{{ product.url }}" class="collection-item_product">
                              <svg width="21" height="13" viewBox="0 0 21 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M20.5303 7.03033C20.8232 6.73744 20.8232 6.26256 20.5303 5.96967L15.7574 1.1967C15.4645 0.903806 14.9896 0.903806 14.6967 1.1967C14.4038 1.48959 14.4038 1.96447 14.6967 2.25736L18.9393 6.5L14.6967 10.7426C14.4038 11.0355 14.4038 11.5104 14.6967 11.8033C14.9896 12.0962 15.4645 12.0962 15.7574 11.8033L20.5303 7.03033ZM0 7.25H20V5.75H0V7.25Z" fill="#000"/>
                              </svg>
                              <h5>{{ product.title }}</h5>
                            </a>
                            {% if forloop.last %}
                            <a href="{{ collection.url }}" class="collection-item_product">
                              <svg width="21" height="13" viewBox="0 0 21 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M20.5303 7.03033C20.8232 6.73744 20.8232 6.26256 20.5303 5.96967L15.7574 1.1967C15.4645 0.903806 14.9896 0.903806 14.6967 1.1967C14.4038 1.48959 14.4038 1.96447 14.6967 2.25736L18.9393 6.5L14.6967 10.7426C14.4038 11.0355 14.4038 11.5104 14.6967 11.8033C14.9896 12.0962 15.4645 12.0962 15.7574 11.8033L20.5303 7.03033ZM0 7.25H20V5.75H0V7.25Z" fill="#000"/>
                              </svg>
                              <h5>SHOP ALL {{ collection.title }}</h5>
                            </a>
                            {% endif %}
                          {% endfor %}
                          
                      </div>      
                    </div>
                  {% endif %}
                {% endfor %}
              </div>
            </div>
          {% endif %}
        {% endif %}
        {% when 'menu' %}
          {% if block.settings.menu != blank %}
          <div class="sub_header-menu">
            <nav class="custom-menu">
              <ul>
                {% for link in linklists[block.settings.menu].links %}
                  <li>
                    <a href="{{ link.url }}">{{ link.title }}</a>
                  </li>
                {% endfor %}
              </ul>
            </nav>
          </div>
          {% endif %}
        
        {% when 'review' %}
        <div class="sub_header-review">
          <style>
              .sub_header .product-testimonial-section .testimonial-card{
                overflow: hidden;
                border-radius: {{ block.settings.container_radius }}px;
                box-shadow: {% if block.settings.container_styling == "shadow" %}{{ block.settings.box_shadow_offset }}px {{ block.settings.box_shadow_offset }}px {{ block.settings.box_shadow_blur }}px {{ block.settings.box_shadow_spread }}px {{ block.settings.box_shadow_color }}{% else %}none{% endif %};
                border: {% if block.settings.container_styling == "card" %} {{ block.settings.card_border }}px solid {{ block.settings.card_border_color }}{% else %}none{% endif %};
              }
          </style>
          <div class="testimonial-card">
            {% if block.settings.photo %}
              <img src="{{ block.settings.photo | img_url: '100x' }}" alt="Customer photo" class="testimonial-photo">
            {% endif %}
            <div class="testimonial-content">
              <p class="testimonial-text">“ {{ block.settings.testimonial }} ”</p>
              <div class="testimonial-footer">
                <strong>{{ block.settings.name }}</strong>
                {% if block.settings.verified %}
                  <span class="verified-icon">✔️</span>
                  <span class="verified-label">VERIFIED BUYER</span>
                {% endif %}
                <div class="testimonial-stars">
                  {% for i in (1..5) %}
                    {% if i <= block.settings.rating %}
                      <span class="star">★</span>
                    {% else %}
                      <span class="star empty">☆</span>
                    {% endif %}
                  {% endfor %}
                </div>
              </div>
            </div>
          </div>
        </div>
  
      {% endcase %}
  {% endfor %}
  
</div>
<div id="menu-overlay" class="menu-overlay" ></div>
{% if section.settings.enable_search != blank %}
    <div class="hearch-search-form-wrapper">
      <div class="hearch-search-form-overlay"></div>
      <div class="hearch-search-form">
        {%- if settings.predictive_search_enabled -%}
          <predictive-search class="search-modal__form" data-loading-text="{{ 'accessibility.loading' | t }}">
        {%- endif -%}
          <form action="{{ routes.search_url }}" method="get" role="search" class="header__search search">
            {% if section.settings.search_only_products != blank %}
              <input type="hidden" name="type" value="product">
            {% endif %}
            <input class="form-input" id="js-search-input" type="search" name="q" value="" placeholder="{{ 'general.search.search' | t }}">
            <button type="button" class="form-icon" id="js-search-icon">
                <span class="material-icons">search</span>
            </button>
            {%- if settings.predictive_search_enabled -%}
              <div class="predictive-search predictive-search--header" tabindex="-1" data-predictive-search>
                <div class="predictive-search__loading-state">
                  <svg aria-hidden="true" focusable="false" role="presentation" class="spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
                    <circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle>
                  </svg>
                </div>
              </div>
              <span class="predictive-search-status visually-hidden" role="status" aria-hidden="true"></span>
            {%- endif -%}
          </form>
        {%- if settings.predictive_search_enabled -%}
          </predictive-search>
        {%- endif -%}
        <button type="button" class="close-search-popup" aria-label="{{ 'accessibility.close' | t }}">
          <span class="material-icons">close</span>
        </button>
      </div>
    </div>
  {% endif %}    
                            
<script>
  const burger = document.getElementById('menu_burger');
  const menu = document.getElementById('sub_header');
  const overlay = document.getElementById('menu-overlay');
  burger.addEventListener('click', () => {
    menu.classList.toggle('sub_header-close');
    burger.classList.toggle('open');
    document.body.classList.toggle('no-scroll');
    overlay.classList.toggle('active');
  });

  
  let swiperMenu = new Swiper('.swiper_menu', {
    slidesPerView: "auto",
    spaceBetween: 15,
  });
{% if section.settings.enable_search != blank %}  
   /* Search expand Start  ============================== */
var searchIcon = document.getElementById("js-search-icon");
var searchBox = document.getElementById("js-search-toggle");
var searchInput = document.getElementById("js-search-input");
var mainSearchBox = document.getElementById("js-search-box");

searchBox.addEventListener('click', ()=>{
    document.querySelector('body').classList.add("custom-search-open");
    searchInput.focus();
    // mainSearchBox.classList.toggle('active');
});
document.querySelector('.close-search-popup').addEventListener('click', (e)=>{
    document.querySelector('body').classList.remove("custom-search-open");
});
// searchIcon.addEventListener('click', ()=>{
//     mainSearchBox.classList.remove('active');
// });

// document.addEventListener('click', function(event) {
//     var isClickInside = searchBox.contains(event.target);
//     if (isClickInside) {
//         searchInput.focus();
//         //searchBox.classList.add('active');
//         mainSearchBox.classList.add('active');
//     } else {
//         //searchBox.classList.remove('active');
//         mainSearchBox.classList.remove('active');
//     }
// });
/* Search expand END  ============================== */ 
{% endif %}
</script>

                          
{% schema %}
  {
    "name": "header",
    "settings": [
      {
        "type": "checkbox",
        "id": "enable_search",
        "default": true,
        "label": "Enable search"
      },
      {
        "type": "checkbox",
        "id": "search_only_products",
        "label": "Search only products",
        "default": true
      },
    ],
    "blocks": [
      {
        "type": "slider",
        "name": "Slider",
        "settings": [
          {
            "type": "product_list",
            "id": "product_list",
            "label": "Products",
            "limit": 12
          },
          { "type": "checkbox", "id": "show_reviews", "label": "Show Review Stars", "default": true },
          { "type": "range", "id": "star_count", "label": "Star count", "min": 1, "max": 5, "step": 1, "default": 5 },
          {
            "type": "text",
            "id": "review_text",
            "label": "Review text",
            "default": "10 reviews"
          },
        ]
      },
      {
        "type": "collection",
        "name": "Collection",
        "settings": [
          {
            "type": "collection_list",
            "id": "collection_list",
            "label": "Collections",
            "limit": 5
          },
          { "type": "select",
            "id": "collection_styling",
            "label": "collection Styling",
            "options": [
              { "value": "noporuduct", "label": "Not Product" },
              { "value": "product", "label": "Open Product" }
            ],
            "default": "noporuduct"
          },
         
        ]
      },
      {
        "type": "menu",
        "name": "Menu",
        "settings": [
          {
            "type": "link_list",
            "id": "menu",
            "label": "Menu"
          }
        ]
      },
      {
        "type": "review",
        "name": "Review",
        "settings": [
          {
            "type": "textarea",
            "id": "testimonial",
            "label": "Testimonial Text",
            "default": "Have been buying these for years !! Really like the bigger size of the Gummies now ! Appreciate it Joe V. 🙌"
          },
          {
            "type": "image_picker",
            "id": "photo",
            "label": "Customer Photo"
          },
          {
            "type": "text",
            "id": "name",
            "label": "Customer Name",
            "default": "Michael"
          },
          {
            "type": "checkbox",
            "id": "verified",
            "label": "Verified Buyer",
            "default": true
          },
          {
            "type": "range",
            "id": "rating",
            "label": "Star Rating (0–5)",
            "min": 0,
            "max": 5,
            "step": 1,
            "default": 4
          },
          {
            "type": "header",
            "content": "Cards Settings"
          },
          { "type": "select", "id": "container_styling", "label": "Container Styling", "options": [{ "value": "no_card", "label": "No Card" }, { "value": "card", "label": "Card" }, { "value": "shadow", "label": "Shadow" }], "default": "card" },
          {
            "type": "range",
            "id": "box_shadow_offset",
            "label": "Box shadow offset",  
            "min": -10,
            "max": 10,
            "default": 1
          },
          {
            "type": "range",
            "id": "box_shadow_blur",
            "label": "Box shadow blur",  
            "min": 0,
            "max": 15,
            "default": 1
          },
          {
            "type": "range",
            "id": "box_shadow_spread",
            "label": "Box shadow spread",  
            "min": 0,
            "max": 15,
            "default": 1
          },
          { "type": "color", "id": "box_shadow_color", "label": "Box shadow color", "default": "#000000" },   
          {
            "type": "range",
            "id": "card_border",
            "label": "Card border",
            "info": "Container Styling Card",
            "min": 0,
            "max": 5,
            "step": 1,
            "default": 1
          },
          { "type": "color", "id": "card_border_color", "label": "Card border color", "default": "#000" },
          { "type": "range", "id": "container_radius", "label": "Container Corner Radius", "min": 0, "max": 50, "step": 5, "default": 10 }
          
        ]
      }
    ],
  }
{% endschema %}