<style>
{% if section.settings.font_variant == 'custom' %}
  {%- liquid
      assign body_font_bold = section.settings.title_font | font_modify: 'weight', 'bold'
      assign body_font_italic = section.settings.title_font | font_modify: 'style', 'italic'
      assign body_font_bold_italic = body_font_bold | font_modify: 'style', 'italic'
    %}
    {{ section.settings.title_font | font_face: font_display: 'swap' }}
    {{ body_font_bold | font_face: font_display: 'swap' }}
    {{ body_font_italic | font_face: font_display: 'swap' }}
    {{ body_font_bold_italic | font_face: font_display: 'swap' }}
    {{ settings.type_header_font | font_face: font_display: 'swap' }}
    #shopify-section-{{section.id}} * {
      font-family: {{ section.settings.title_font.family }};
    }
{% endif %}

#shopify-section-{{section.id}} .content-wrapper a p {
  margin: 0 auto;
  color: {{ section.settings.text_color }};
  cursor: pointer;
}

#shopify-section-{{section.id}} {
  display: {% case section.settings.display_on %}
            {% when 'all' %} block;
            {% when 'mobile_only' %} none;
            {% when 'desktop_only' %} block;
          {% endcase %};
  padding: {{ section.settings.padding_y_desk }}px {{ section.settings.padding_x_desk }}px;
  background-color: {{ section.settings.background_color }};
  text-align: {{ section.settings.heading_align }};
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  height: auto;
  width: 100%;
  text-decoration: none;
}

#shopify-section-{{section.id}} .heading {
  {% if section.settings.section_width == 'full' %}
    margin: 0 10%;
  {% endif %}
}

#shopify-section-{{section.id}} .content-wrapper {
  height: 100%;
  margin: 0 auto;
  max-width: {% if section.settings.section_width == 'full' %}100%;{% else %} {{ settings.page_width }}px;{% endif %}
  display: block;
  position: relative;
  text-align: {{ section.settings.heading_align }};
  padding: 20px 0;
}

#shopify-section-{{section.id}} .title * {
  margin: 0;
}

#shopify-section-{{section.id}} .title h2,
#shopify-section-{{section.id}} .title h1,
#shopify-section-{{section.id}} .title h3,
#shopify-section-{{section.id}} .title p {
  font-size: {% case section.settings.heading_size %}
               {% when 'small' %}36px
               {% when 'medium' %}45px
               {% when 'large' %}60px
             {% endcase %};
  text-transform: {{ section.settings.headline_typography }};
  color: {{ section.settings.text_color }};
  margin: 0;
  text-align: {% case section.settings.heading_align %}
                {% when 'left' %}left;
                {% when 'center' %}center;
                {% when 'right' %}right;
              {% endcase %};
  line-height: 110%;
  font-weight: 700;
  margin-bottom: 16px;
}

#shopify-section-{{section.id}} .subtitle * {
  margin: 0;
}

#shopify-section-{{section.id}} .subtitle h2,
#shopify-section-{{section.id}} .subtitle h3,
#shopify-section-{{section.id}} .subtitle p {
  color: {{ section.settings.subtitle_color }};
  font-size: 20px;
  font-weight: 400;
  text-align: {% case section.settings.heading_align %}
                {% when 'left' %}left;
                {% when 'center' %}center;
                {% when 'right' %}right;
              {% endcase %};
  line-height: 150%;
  margin: 0;
  margin-bottom: 20px;
}

#shopify-section-{{section.id}} .uppertitle * {
  margin: 0;
}

#shopify-section-{{section.id}} .uppertitle {
  display: flex;
  justify-content: {% case section.settings.heading_align %}
                     {% when 'left' %}left;
                     {% when 'center' %}center;
                     {% when 'right' %}right;
                   {% endcase %};
  margin: 0;
  margin-bottom: 14.5px;
  align-items: center;
}

#shopify-section-{{section.id}} .uppertitle svg {
  margin-bottom: 2px;
  margin-left: 5px;
}

#shopify-section-{{section.id}} .uppertitle h2,
#shopify-section-{{section.id}} .uppertitle h3,
#shopify-section-{{section.id}} .uppertitle p {
  color: {{ section.settings.uppertitle_color }};
  font-size: 15px;
  font-weight: 400;
  order: 5;
  margin-left: 11px;
  line-height: 150%;
}

#shopify-section-{{section.id}} .newsletter-form {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px; /* Reduced gap to match tight spacing in images */
}

#shopify-section-{{section.id}} .newsletter-form form {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  width: 100%;
}

#shopify-section-{{section.id}} .newsletter-form input[type="email"] {
  padding: 10px 0;
  width: 100%;
  max-width: 703px;
  border: none;
  border-bottom: 1px solid #ccc; /* Bottom border only */
  background: transparent;
  font-size: 24px;
  font-weight: regular;
  line-height: 36px;
  margin-bottom: 50px;
  text-align: left;
  outline: none;
  color: {{ section.settings.text_color }};
}

#shopify-section-{{section.id}} .newsletter-form input[type="email"]::placeholder {
  color: #999;
  opacity: 1;
}

#shopify-section-{{section.id}} .newsletter-form button {
  padding: 0;
  width: 700px;
  height: 58px; /* Fixed height as requested */
  background-color: #2a2a2a;
  color: #fff;
  border: none;
  border-radius: 50px; /* Pill-shaped button */
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: background-color 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 5px;
}

#shopify-section-{{section.id}} .newsletter-form button:hover {
  background-color: #555; /* Slightly lighter on hover */
}

#shopify-section-{{section.id}} .newsletter-form .privacy {
  font-size: 12px;
  color: #666;
  margin: 0;
}

@media (max-width: 768px) {
  #shopify-section-{{section.id}} {
    display: {% case section.settings.display_on %}
              {% when 'all' %} block;
              {% when 'mobile_only' %} block;
              {% when 'desktop_only' %} none;
            {% endcase %};
    padding: {{ section.settings.padding_y_mob }}px {{ section.settings.padding_x_mob }}px;
  }

  #shopify-section-{{section.id}} .title h2,
  #shopify-section-{{section.id}} .title h1,
  #shopify-section-{{section.id}} .title h3,
  #shopify-section-{{section.id}} .title p {
    font-size: {% case section.settings.heading_size %}
                 {% when 'small' %}20px
                 {% when 'medium' %}28px
                 {% when 'large' %}36px
               {% endcase %};
    line-height: 100%;
    margin: 0;
    margin-bottom: 16px;
  }

  #shopify-section-{{section.id}} .subtitle h2,
  #shopify-section-{{section.id}} .subtitle h3,
  #shopify-section-{{section.id}} .subtitle p {
    font-size: 16px;
    line-height: 24px;
  }

  #shopify-section-{{section.id}} .uppertitle {
    margin-bottom: 16px;
  }

  #shopify-section-{{section.id}} .uppertitle h2,
  #shopify-section-{{section.id}} .uppertitle h3,
  #shopify-section-{{section.id}} .uppertitle p {
    color: {{ section.settings.uppertitle_color }};
    font-size: 12px;
    line-height: 16px;
    font-weight: 400;
    order: 5;
    margin-left: 3px;
  }

  #shopify-section-{{section.id}} .uppertitle svg {
    max-width: 12px;
    margin-left: 0;
    margin-bottom: 3px;
  }

  #shopify-section-{{section.id}} .newsletter-form input[type="email"] {
    max-width: 350px;
    margin-bottom: 23px;
  }

  #shopify-section-{{section.id}} .newsletter-form button {
    width: 360px; /* Adjusted width for mobile */
    height: 58px;
    font-size: 13px;
  }
}

</style>

<div class="content-wrapper">
           {%- if section.settings.uppertitle != blank or section.settings.subtitle or section.settings.title != blank  -%}
      <div class="heading">
        {% if section.settings.uppertitle != blank %}
      <div class="uppertitle">{{ section.settings.uppertitle }} {% for i in (1..5) %}{% render 'star_comparison' %}{% endfor %}</div>
    {% endif %}
        <div class="title">
          {%- if section.settings.title != blank -%}
            {{ section.settings.title }}
          {%- endif -%}
        </div>
        <div class="subtitle">
          {%- if section.settings.subtitle != blank -%}
            {{ section.settings.subtitle }}
          {%- endif -%}
        </div>
        
      </div>
    {%- endif -%}
  <div class="newsletter-form">

    <form id="contact_form" method="post" action="/contact#contact_form" accept-charset="UTF-8" class="contact-form">
      <input type="hidden" name="form_type" value="customer">
      <input type="hidden" name="utf8" value="✓">
      <input type="hidden" name="contact[tags]" value="newsletter">
      <input type="email" name="contact[email]" placeholder="{{ section.settings.placeholder_text }}" required>
      <button type="submit">{{ section.settings.button_text }} <span>→</span></button>
    </form>
    <div class="privacy">{{ section.settings.privacy_text }}</div>
  </div>
</div>

{% schema %}
{
  "name": "Newsletter Signup Bar",
  "tag": "section",
  "class": "section newsletter_signup",
  "settings": [
    {
      "type": "header",
      "content": "General Settings"
    },
       { 
         "type": "select", 
       "id": "heading_size", 
       "label": "Heading Size", 
       "options": [{ "value": "small", "label": "Small" }, { "value": "medium", "label": "Medium" }, { "value": "large", "label": "Large" }], "default": "medium" 
     },
     {
       "type": "select", "id": "headline_typography", 
       "label": "Headline Typography", 
       "options": [
         { "value": "uppercase", "label": "AA" }, 
         { "value": "capitalize", "label": "Aa" }, 
         { "value": "lowercase", "label": "aa" }], "default": "capitalize" },
        {
          "type": "color", 
          "id": "text_color", 
          "label": "Title Color", 
          "default": "#000000" },    
     { 
       "type": "select", 
       "id": "heading_align", 
       "label": "Heading Alignment", 
       "options": [
         { "value": "left", "label": "Left" }, 
         { "value": "center", "label": "Center" }, 
         { "value": "right", "label": "Right" }], 
       "default": "center" 
     }, 
    { "type": "color", "id": "background_color", "label": "Background color", "default": "transparent" },
    { "type": "select", "id": "font_variant", "label": "Font Family", "options": [{ "value": "default", "label": "Default by theme" }, { "value": "custom", "label": "Own choice" }], "default": "default" },
    { "type": "font_picker", "label": "Regular Font", "id": "title_font", "default": "montserrat_n4" },
      { "type": "select", "id": "section_width", "label": "Section Width", "options": [{ "value": "full", "label": "Full Width" }, { "value": "contained", "label": "Contained" }], "default": "contained" },
    { "type": "range", "id": "padding_x_desk", "label": "Horizontal Padding", "info": "for desktop", "min": 0, "max": 100, "step": 5, "default": 70 },
    { "type": "range", "id": "padding_y_desk", "label": "Vertical Padding", "info": "for desktop", "min": 0, "max": 100, "default": 10 },
    { "type": "range", "id": "padding_x_mob", "label": "Horizontal Padding", "info": "for mobile", "min": 0, "max": 100, "step": 5, "default": 15 },
    { "type": "range", "id": "padding_y_mob", "label": "Vertical Padding", "info": "for mobile", "min": 0, "max": 50, "default": 7 },
    { "type": "select", "id": "display_on", "label": "Display On", "options": [{ "value": "all", "label": "All Devices" }, { "value": "mobile_only", "label": "Mobile Only" }, { "value": "desktop_only", "label": "Desktop Only" }], "default": "all" },
    {
      "type": "header",
      "content": "Content Settings"
    },
       {
      "type": "richtext",
      "id": "title",
      "label": "Title",
      "default": "<h2>Value Proposition featuring benifit</h2>"
    },
    {
      "type": "richtext",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "<h3>Ut enim ad minima veniam, quis nostrum exercitati onem ullam corporis suscipit laboriosam, commodi </h3>"
    },
    {
      "type": "richtext",
      "id": "uppertitle",
      "label": "Uppertitle",
      "default": "<h3>Reviewed by +100 Happy Customers </h3>"
    },
    { "type": "text", "id": "placeholder_text", "label": "Input Placeholder", "default": "Enter your email address" },
    { "type": "text", "id": "button_text", "label": "Button Text", "default": "GET YOURS NOW" },
    { "type": "richtext", "id": "privacy_text", "label": "Privacy Text", "default": "<p>We will never share your information</p>" }
  ],
  "presets": [
    {
      "name": "Newsletter Signup Bar",
      "category": "Custom"
    }
  ]
}
{% endschema %}